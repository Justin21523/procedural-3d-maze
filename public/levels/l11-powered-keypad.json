{
  "id": 11,
  "name": "L11 - Powered Keypad",
  "maze": { "width": 33, "height": 33, "roomDensity": 2.85, "extraConnectionChance": 0.12 },
  "rooms": {
    "typeWeights": {
      "CLASSROOM": 2.6,
      "CLASSROOMS_BLOCK": 1.7,
      "OFFICE": 1.6,
      "LAB": 1.45,
      "STORAGE": 1.2,
      "CAFETERIA": 0.75,
      "BATHROOM": 0.65,
      "LIBRARY": 0.7,
      "POOL": 0.2,
      "GYM": 0.25,
      "BEDROOM": 0.35
    }
  },
  "monsters": {
    "count": 3,
    "maxCount": 5,
    "speedMultiplier": 1.0,
    "visionMultiplier": 1.0,
    "memoryMultiplier": 1.0,
    "typeWeights": { "WANDERER": 0.55, "HUNTER": 0.25, "SENTINEL": 0.15, "GREETER": 0.05 },
    "allowSprintTypes": ["HUNTER"]
  },
  "missions": {
    "timeLimitSec": 0,
    "list": [
      {
        "id": "power",
        "template": "restorePowerFuses",
        "required": true,
        "params": {
          "fuses": 2,
          "itemId": "fuse",
          "roomTypesFuses": ["STORAGE", "LAB", "OFFICE"],
          "roomTypesPanel": ["LAB", "OFFICE"],
          "minDistFromSpawn": 7,
          "hints": [
            "Collect the fuses.",
            "After collecting all fuses, find the power panel and press E to install them.",
            "Press E again on the power panel to restore power."
          ]
        }
      },
      {
        "id": "doorCode",
        "template": "codeLock",
        "required": true,
        "params": {
          "clues": 3,
          "requiresPower": true,
          "powerItemId": "power_on",
          "roomTypesClues": ["CLASSROOM", "OFFICE", "CLASSROOMS_BLOCK", "LIBRARY"],
          "roomTypesKeypad": ["OFFICE", "LAB"],
          "minDistFromSpawn": 7,
          "hints": [
            "Restore power first (the keypad needs electricity).",
            "Find the three note clues (A/B/C). Each reveals one digit.",
            "Use the keypad: press E, enter A→B→C digits, then press Enter."
          ]
        }
      },
      {
        "id": "quiet",
        "template": "stealthNoise",
        "required": true,
        "params": {
          "seconds": 12,
          "hints": [
            "Stay quiet until the timer completes.",
            "Avoid firing and sprinting near enemies.",
            "Create distance, break line of sight, then wait it out."
          ]
        }
      },
      {
        "id": "unlockExit",
        "template": "unlockExit",
        "required": true,
        "params": {
          "hints": [
            "Go to the exit and press E to unlock it.",
            "After unlocking, press E again to finish the level.",
            "If it stays locked, you missed a required objective."
          ]
        }
      }
    ],
    "exit": { "requires": ["power", "doorCode", "quiet", "unlockExit"] }
  },
  "player": {
    "maxHealthMultiplier": 1.0,
    "upgradeChoices": ["SPRINT_BOOST", "EXTRA_HEART", "MISSION_HINT", "SHORT_STEALTH"],
    "upgradesPerLevel": 1
  },
  "autopilot": {
    "avoidRadius": 5,
    "replanInterval": 0.5,
    "stuckSeconds": 1.0,
    "noProgressSeconds": 0.7
  }
}

