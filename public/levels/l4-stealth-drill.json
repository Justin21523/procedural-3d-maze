{
  "id": 4,
  "name": "L4 - Quiet Route",
  "maze": { "width": 27, "height": 27, "roomDensity": 2.7, "extraConnectionChance": 0.09 },
  "rooms": {
    "typeWeights": {
      "CLASSROOM": 2.7,
      "CLASSROOMS_BLOCK": 1.4,
      "OFFICE": 1.35,
      "LAB": 1.25,
      "CAFETERIA": 0.9,
      "BATHROOM": 0.75,
      "STORAGE": 0.85,
      "LIBRARY": 0.75,
      "POOL": 0.18,
      "GYM": 0.28,
      "BEDROOM": 0.38
    }
  },
  "monsters": {
    "count": 4,
    "maxCount": 6,
    "speedMultiplier": 1.04,
    "visionMultiplier": 0.98,
    "memoryMultiplier": 0.95,
    "typeWeights": { "WANDERER": 0.35, "HUNTER": 0.3, "SENTINEL": 0.25, "STALKER": 0.1 },
    "allowSprintTypes": ["HUNTER", "SENTINEL"]
  },
  "budgets": {
    "missionObjectsMax": 35
  },
  "missions": {
    "timeLimitSec": 0,
    "list": [
      {
        "id": "sequence",
        "template": "enterRoomSequence",
        "required": true,
        "params": {
          "sequence": ["BATHROOM", "OFFICE", "LAB"],
          "resetOnWrong": true,
          "ignoreCorridor": true,
          "hints": [
            "Enter the required room types in order.",
            "Corridors won't reset the sequence.",
            "If you step into the wrong sequence room type, it resets."
          ]
        }
      },
      {
        "id": "quiet",
        "template": "stealthNoise",
        "required": true,
        "params": {
          "seconds": 18,
          "resetOnGunshot": true,
          "maxGunshotsTotal": 4,
          "hints": [
            "Stay quiet until the timer completes.",
            "Gunshots reset the timer, so avoid firing unless you must."
          ]
        }
      },
      {
        "id": "keycard",
        "template": "findKeycard",
        "required": true,
        "params": {
          "roomTypes": ["LIBRARY", "OFFICE"],
          "minDistFromSpawn": 6,
          "label": "Pick up Keycard",
          "hints": [
            "Search Libraries/Offices for the keycard.",
            "Use cover and break line of sight to keep noise low."
          ]
        }
      },
      {
        "id": "unlockExit",
        "template": "unlockExit",
        "required": true,
        "params": {
          "hints": [
            "Go to the exit and press E to unlock it.",
            "After unlocking, press E again to finish the level."
          ]
        }
      }
    ],
    "exit": { "requires": ["sequence", "quiet", "keycard", "unlockExit"] }
  },
  "player": {
    "maxHealthMultiplier": 1.0,
    "upgradeChoices": ["SPRINT_BOOST", "EXTRA_HEART", "SHORT_STEALTH", "MISSION_HINT"],
    "upgradesPerLevel": 1
  },
  "autopilot": {
    "avoidRadius": 5,
    "replanInterval": 0.5,
    "stuckSeconds": 1.0,
    "noProgressSeconds": 0.7
  }
}
